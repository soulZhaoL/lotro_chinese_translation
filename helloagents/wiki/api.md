# API 手册

## 概述
本文件描述计划中的核心接口，最终以实现为准。当前仅完成数据库迁移脚本，接口仍处于规划阶段。

## 认证方式
- 登录获取会话或令牌（具体方案待定）

---

## 接口列表

### 认证

#### [POST] /auth/login
**描述:** 用户登录

**请求参数:**
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| username | string | 是 | 用户名 |
| password | string | 是 | 明文密码（服务端加盐 MD5） |

**响应:**
- 登录成功信息与用户角色

---

### 主文本与任务

#### [GET] /texts
**描述:** 获取主文本列表（支持筛选与分页）

#### [GET] /texts/{id}
**描述:** 获取主文本详情

#### [POST] /claims
**描述:** 认领任务（fid + part）

#### [POST] /locks
**描述:** 进入翻译页锁定文本

#### [DELETE] /locks/{id}
**描述:** 释放锁定

---

### 变更历史

#### [GET] /changes?text_id=...
**描述:** 获取文本变更历史

---

### 词典管理

#### [GET] /dictionary
**描述:** 获取词典列表

#### [POST] /dictionary
**描述:** 新增词条

#### [PUT] /dictionary/{id}
**描述:** 更新词条

---

### 文本校验

#### [POST] /validate
**描述:** 校验翻译文本格式
